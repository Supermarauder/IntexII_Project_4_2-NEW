@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model ProductListViewModel


@*Home/ViewProducts*@

<style>
    .card {
        padding-top: 15px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        max-width: 300px;
        margin: auto;
        text-align: center;
        background-color: #DFDFDF;
        display: flex;
        flex: 0 0 calc(33.333% - 30px);
        flex-wrap: wrap;
    }

        .card button {
            border: none;
            outline: 0;
            padding: 0px;
            color: white;
            background-color: #DA291C;
            text-align: center;
            cursor: pointer;
            width: 100%;
            font-size: 18px;
        }

            .card button:hover {
                opacity: 0.6;
            }
    /* Style the dropdown button */
    .dropbtn {
        background-color: #4CAF50;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
    }

        /* Dropdown button on hover & focus */
        .dropbtn:hover, .dropbtn:focus {
            background-color: #3e8e41;
        }

    /* Container for the dropdown content */
    .dropdown {
        position: relative;
        display: inline-block;
    }

    /* Hidden by default, the content will be shown on hover or click */
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

    /* Show the dropdown content */
    .dropdown:hover .dropdown-content, .dropdown:focus-within .dropdown-content {
        display: block;
    }

    /* Style the checkboxes */
    .dropdown-content form {
        padding: 12px 16px;
    }

    .dropdown-content label {
        display: block;
        margin-bottom: 10px;
    }

</style>

<br />
<h1 style="padding-left: 25px;">Showing All Products</h1>
<br />
<br />
<div class="row" style="padding-bottom:15px;">
    <div class="col-4">
        <h2 style="padding-left: 45px;">Filter</h2>
    </div>
    <div class="col-8">
        <h2>Products</h2>
    </div>
</div>
<div class="row">
    <div class="col-4" style="padding-left: 60px;">
        <form method="get" action="/Home/ViewProducts">
            <div class="dropdown">
                <button class="dropbtn">Category</button>
                <div class="dropdown-content">
                    <div>
                        <input type="checkbox" name="categories" value="Animal">
                        <label>Animal</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Building">
                        <label>Building</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Car">
                        <label>Car</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Character">
                        <label>Character</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Colorful">
                        <label>Colorful</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="DC">
                        <label>DC</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Disney">
                        <label>Disney</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Energy">
                        <label>Energy</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Farm">
                        <label>Farm</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Flight">
                        <label>Flight</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Floral">
                        <label>Floral</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Food">
                        <label>Food</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Game">
                        <label>Game</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Harry Potter">
                        <label>Harry Potter</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Minifig">
                        <label>Minifig</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Motorbike">
                        <label>Motorbike</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Part">
                        <label>Part</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Person">
                        <label>Person</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Personal">
                        <label>Personal</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Promotional">
                        <label>Promotional</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Star Wars">
                        <label>Star Wars</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Train">
                        <label>Train</label>
                    </div>
                    <div>
                        <input type="checkbox" name="categories" value="Vehicle">
                        <label>Vehicle</label>
                    </div>
                </div>
            </div>
            <br />
            <br />
            <div class="dropdown">
                <button class="dropbtn">Color</button>
                <div class="dropdown-content">
                    <div>
                        <input type="checkbox" name="colors" value="Black">
                        <label>Black</label>
                    </div>
                    <input type="checkbox" name="colors" value="Blue">
                    <label>Blue</label>
                    <div>
                        <input type="checkbox" name="colors" value="Brown">
                        <label>Brown</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="Green">
                        <label>Green</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="Grey">
                        <label>Grey</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="Pink">
                        <label>Pink</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="Red">
                        <label>Red</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="Tan">
                        <label>Tan</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="White">
                        <label>White</label>
                    </div>
                    <div>
                        <input type="checkbox" name="colors" value="Yellow">
                        <label>Yellow</label>
                    </div>
                </div>
            </div>    
<br />
<br />
            <input type="submit" value="Apply Filters">
        </form>
            <br />
        <br>
        
        <br>
    </div>
        <div class="col-8">

        <div class="row">
            @foreach (var product in Model.Products)
            {
                <div class="col-md-4" style="margin-bottom: 30px;">
                    <div class="card">
                        <div style="text-align: left; padding-left: 25px; padding-right: 25px;">
                            <a style="text-decoration: none; color: black;" href="@Url.Action("ProductDetail", "Home", new { id = product.ProductId })">
                                <img src="@product.ImgLink" alt="Image of @product.Name" style="max-width: 100%; max-height: 200px; object-fit: contain;">
                                <p style="font-size:25px; color:#DA291C; padding-top:15px;">@product.Name</p>
                            </a>
                            <p style="font-size:15px;">@(product.Description.Length > 100 ? product.Description.Substring(0, 100) + "..." : product.Description)</p>
                        </div>
                        <div class="row" style="display: flex; align-items: center;">
                            <div class="col-5">
                                <p style="font-size:17px; text-align: left; padding-left: 25px;">Price: $@product.Price</p>
                            </div>
                            <div class="col-7">
                                <form method="post" asp-controller="Home" asp-action="AddToCart">
                                    <input type="hidden" name="productId" value="@product.ProductId" />
                                    <input type="hidden" name="quantity" value="1" />
                                    <p style="padding-right: 25px;"><button style="align-items:center;" type="submit" class="card button">Add to Cart</button></p>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

            <div page-model="@Model.PaginationInfo" page-action="ViewProducts" page-classes-enable="true" page-class="btn"
                 page-class-normal="btn-outline-dark" page-class-selected="btn-primary" class="btn-group pull-right m-1"></div>
        </div>
    
</div>


<script>
    document.querySelector('.dropbtn').addEventListener('click', function (event) {
        document.querySelector('.dropdown-content').style.display = 'block';
        event.stopPropagation();
    });

    document.addEventListener('click', function (event) {
        var isClickInsideElement = document.querySelector('.dropdown').contains(event.target);
        if (!isClickInsideElement) {
            document.querySelector('.dropdown-content').style.display = 'none';
        }
    });
</script>
